---
import { navItemsAbout } from "src/data";
const currentPath = Astro.url.pathname;

// Helper: is this nav item active?
const isActive = (href: string): boolean => {
  if (href === "/about") {
    return currentPath === "/about/" || currentPath === "/about";
  }
  return currentPath.startsWith(href);
};
---

<nav class="about-nav" aria-label="About navigation">
  <ul class="about-nav__list" role="list">
    {
      navItemsAbout.map((item) => (
        <li>
          <a
            href={item.href}
            class="about-nav__list__link"
            aria-current={isActive(item.href) ? "page" : undefined}
          >
            {item.label}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  .about-nav {
    margin-block-end: var(--space-8);
  }

  .about-nav__list {
    align-items: center;
    display: flex;
    gap: var(--space-2);
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .about-nav__list__link {
    border-radius: var(--radius-md);
    color: var(--color-text-muted);
    padding: var(--space-2) var(--space-3);
  }

  .about-nav__list__link[aria-current="page"] {
    background-color: var(--color-accent-tint);
    color: var(--color-accent);
    text-decoration: none;
  }
</style>
